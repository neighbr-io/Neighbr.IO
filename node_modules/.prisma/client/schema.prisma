generator client {
    provider = "prisma-client-js"
    seed     = "node seed.js"
}

datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

model User {
    id            Int       @id @default(autoincrement())
    email         String    @unique
    password      String
    accountTypeId Int
    AccountType   AccountType @relation(fields: [accountTypeId], references: [id])
    projects      Project[] // Indicates a one-to-many relationship with Project
}

model Project {
    id          Int      @id @default(autoincrement())
    title       String
    subtitle    String
    categoryId  Int
    story       String
    faq         String
    updates     String
    goal        Int
    funded      Int
    expiration  DateTime
    userId      Int      // Foreign key that references the User model
    User        User     @relation(fields: [userId], references: [id])
    Category    Category @relation(fields: [categoryId], references: [id])
    locations   Location[]
}

model AccountType {
    id   Int    @id @default(autoincrement())
    type String @unique
    User User[]
}

model Category {
    id       Int      @id @default(autoincrement())
    category String   @unique
    Project  Project[]
}

model Location {
  id             Int       @id @default(autoincrement())
  businessName   String
  houseNumber    String
  aptSuiteOther  String?
  street         String
  city           String
  state          String
  zipcode        String
  lat            String
  lon            String
  projectId      Int
  project        Project   @relation(fields: [projectId], references: [id])
}


// Transactions table 


